(("undefined"!=typeof self?self:this).webpackJsonp_thunderbolt_elements=("undefined"!=typeof self?self:this).webpackJsonp_thunderbolt_elements||[]).push([[301],{376:function(e,n,t){"use strict";t.r(n);var o=t(0),i=t(147),a=t(551),d=t(723);n.default=function(e){var n=i.createElement(a.a,Object(o.a)({id:e.id},e.meshProps),e.children);return i.createElement(d.a,Object(o.a)({},e,{mediaControls:n}))}},552:function(e,n,t){e.exports={"video-container":"witoi",videoContainer:"witoi","video-poster":"_1muMN",videoPoster:"_1muMN",video:"_1cXXy",videobox:"_8R29n",mediaControlsContainer:"rpkkZ",masked:"_2KK7m","videobox-container":"_2NPk3",videoboxContainer:"_2NPk3","videobox-fill":"_1FsDl",videoboxFill:"_1FsDl","alpha-canvas":"_2VkTV",alphaCanvas:"_2VkTV","has-canvas":"_1KWNy",hasCanvas:"_1KWNy","videobox-play":"_3vh-S",videoboxPlay:"_3vh-S","videobox-audio":"_3P-yP",videoboxAudio:"_3P-yP","videobox-audio-icon":"_1kWRy",videoboxAudioIcon:"_1kWRy","videobox-audio-on":"zbMfi",videoboxAudioOn:"zbMfi","videobox-audio-off":"_3KCX4",videoboxAudioOff:"_3KCX4"}},592:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return d}));var o=t(0),i=t(522);function a(e){var n,t,a=e.playerRef,d=e.videoRef,r=e.audioSelector,u=e.isMobileView,l=e.autoplay,s=e.hasAudio,c=e.hasClick,v=e.hasRollIn,f=e.hasAudioRollIn,m=e.canClickPause,p=e.canRollPause,h=e.canReplay,w=e.extraMediaHandlers,b=void 0===w?{}:w;var y,g,E,C=!1,k=s,x=!(!l&&c),R={handleEvent:function(e){var n=e.type,t=a.current;if("loadeddata"!==n||!t)return"ended"===n&&t?(h||(C=!0,t.dataset.stop=""),void delete t.dataset.playing):void(b[n]&&t&&b[n](t));t.dataset.canPlay=""}},_=function(e,n){var t=!n.muted;k=!t,n.muted=t,e.dataset.audio=t?"off":"on"},I=function(e){e.dataset.showAudio="",clearTimeout(g),g=window.setTimeout((function(){delete e.dataset.showAudio}),2e3)},M=function(e){clearTimeout(g),delete e.dataset.showAudio},A=function(e){e.volume=0,e.muted=!1;var n=0;window.clearInterval(y),y=window.setInterval((function(){(n+=.2)>=1?(e.volume=1,window.clearInterval(y)):e.volume=n}),200)},P=function(e){e.volume=1;var n=1;window.clearInterval(y),y=window.setInterval((function(){(n-=.2)<=0?(e.volume=0,e.muted=!0,window.clearInterval(y)):e.volume=n}),200)},T=Object(i.b)()&&"ontouchend"in window&&u;return{onClick:T||!s&&!c?void 0:function(e){t&&t.resume();var o=a.current,i=d.current;o&&i&&!C&&(s&&!n&&(n=o.querySelector(r)),s&&n&&(I(o),n.contains(e.target))?_(o,i):i.paused?(o.dataset.playing="",i.play(),x=!0):m&&(delete o.dataset.playing,i.pause()))},onMouseEnter:!T&&(s||v||c)?function(){var e=a.current,n=d.current;if(e&&n&&!C&&(v?n.play():c&&(e.dataset.rollIn=""),s&&x&&(I(e),k&&(f||v)))){var o=function(){e.dataset.audio="on",A(n)};if(t)if("running"===t.state)o();else{var i=t.resume();i&&i.then(o)}else n.muted=!1,e.dataset.audio="on"}}:void 0,onMouseLeave:!T&&(s||p||c)?function(){var e=a.current,n=d.current;e&&n&&(p?n.pause():c&&delete e.dataset.rollIn,s&&(M(e),f&&!n.muted&&(t?P(n):n.muted=!0)))}:void 0,onMouseMove:!T&&s?function(){var e=a.current;e&&s&&x&&I(e)}:void 0,onTouchEnd:T&&(s||c||v)?function(e){var t=a.current,o=d.current;if(t&&o&&!C){s&&!n&&(n=t.querySelector(r));var i=!l&&!t.dataset.touched,u="on"===t.dataset.touched;s&&(I(t),n&&n.contains(e.target))?_(t,o):((i||u)&&(o.paused?(t.dataset.playing="",o.play()):(m||p)&&(delete t.dataset.playing,o.pause())),(c||v)&&(clearTimeout(E),t.dataset.touched="on",E=window.setTimeout((function(){return t.dataset.touched="off"}),1400)))}}:void 0,mediaHandler:R,setAudioContext:function(){var e=window.AudioContext||window.webkitAudioContext;Object(i.b)()&&e&&d.current&&(t=new e)},MEDIA_EVENTS:Object(o.f)(Object.keys(b),["loadeddata","ended"])}}function d(e){var n=e.playerRef,t=e.videoRef,o=e.onViewEnter,a=e.onViewLeave;if(Object(i.b)()){var d={visible:!window.document.hidden,intersecting:!1},r=function(){t.current&&n.current&&"playing"in n.current.dataset&&(d.visible=!window.document.hidden,d.visible&&d.intersecting?t.current.play():t.current.pause())};window.document.addEventListener("visibilitychange",r);var u=null;return n.current&&"function"==typeof window.IntersectionObserver&&(u=new window.IntersectionObserver((function(e){var i=n.current,r=t.current;r&&i&&e.forEach((function(e){r&&e.target===i&&(d.intersecting=e.isIntersecting,d.visible&&d.intersecting?(null==o||o(),"playing"in i.dataset&&r.play()):(null==a||a(),r.pause()))}))}))).observe(n.current),function(){window.document.removeEventListener("visibilitychange",r),u&&(u.disconnect(),u=null)}}}},723:function(e,n,t){"use strict";var o=t(0),i=t(147),a=t(511),d=t.n(a),r=t(558),u=t(522),l=t(552),s=t.n(l),c=t(592);var v=!Object(u.c)();n.a=function(e){var n,t=e.id,a=e.mediaControls,u=e.fillLayers,l=e.isMobileView,f=e.hasAudio,m=e.hasClick,p=e.hasRollIn,h=e.hasAudioRollIn,w=e.canClickPause,b=e.canRollPause,y=e.muted,g=e.autoplay,E=e.canReplay,C=e.hasMask,k=e.alt,x=void 0===k?"":k,R=i.useRef(null),_=i.useRef(null),I=i.useState(C),M=I[0],A=I[1],P=i.useState(!1),T=P[0],O=P[1],V=!(!C||!v),S=T?{}:Object(c.a)({playerRef:R,videoRef:_,audioSelector:'[data-audio-for="'+t+'"]',isMobileView:l,autoplay:g,hasAudio:f,hasClick:m,hasRollIn:p,hasAudioRollIn:h,canClickPause:w,canRollPause:b,canReplay:E}),j=S.onClick,L=void 0===j?void 0:j,N=S.onMouseEnter,D=void 0===N?void 0:N,H=S.onMouseLeave,K=void 0===H?void 0:H,F=S.onMouseMove,W=void 0===F?void 0:F,X=S.onTouchEnd,q=void 0===X?void 0:X,z=S.mediaHandler,J=void 0===z?void 0:z,U=S.setAudioContext,Z=void 0===U?void 0:U,$=S.MEDIA_EVENTS,B=void 0===$?[]:$;return i.useEffect((function(){if(O(V),!V&&(f||m))return Object(c.b)({playerRef:R,videoRef:_})}),[V,f,m,R,_]),i.useEffect((function(){B.forEach((function(e){_.current&&J&&("loadeddata"===e&&_.current.readyState>=_.current.HAVE_CURRENT_DATA?J.handleEvent({type:e}):_.current.addEventListener(e,J))})),Z&&Z()}),[_,Z,J,B]),i.useLayoutEffect((function(){var e=R.current;if(V&&u.video&&e){var n=function(e){var n=e.match(/.*svg\+xml,(.*)"\)$/);return n&&n[1]?window.decodeURIComponent(n[1]):""}(window.getComputedStyle(e).getPropertyValue("--mask-image"));u.video.posterImageInfo.maskDataElementString=function(e){var n=e.svgContent,t=e.compId,o=e.alt,i=n.match(/(:?<\?xml[^?]*\?>)?(<svg[^>]*>)/);if(!i)return"";var a=i[1]?n.replace(i[1],""):n,d=window.document.createElement("div");d.innerHTML=a;var r=d.firstElementChild;if(!r)return"";var u="svg-content-"+t;r.setAttribute("id",u);var l=u+"-filter",s=u+"-mask";return'<svg ref="svg'+t+'" id="svg'+t+'" version="1.1" preserveAspectRatio="none" width="100%" height="100%" role="img" aria-label="'+o+'">\n      <defs>\n        <filter id="'+l+'">\n          <feColorMatrix\n            type="matrix"\n            values="0 0 0 0 1\n                    0 0 0 0 1\n                    0 0 0 0 1\n                    0 0 0 1 0"\n          />\n        </filter>\n        <mask id="'+s+'">\n          <use\n            filter="url(#'+l+')"\n            xlink:href="#'+u+'"\n            width="100%"\n            height="100%"\n            x="0"\n            y="0"\n          />\n        </mask>\n        '+d.innerHTML+'\n      </defs>\n      <image id="'+t+'image" ref="image"  mask="url(#'+s+')" width="100%" height="100%"/>\n    </svg>'}({svgContent:n,compId:t,alt:u.video.posterImageInfo.alt||x}),u.video.isVideoEnabled=!1,A(!1)}}),[x,t,u.video,V]),i.createElement("div",{id:t,ref:R,className:d()(s.a.videobox,(n={},n[s.a.masked]=M,n)),onClick:L,onMouseEnter:D,onMouseLeave:K,onMouseMove:W,onTouchEnd:q,"data-audio":y?"off":"on","data-has-play":T||!m&&!p?void 0:"","data-playing":!T&&g?"":void 0,"data-stop":T?"":void 0},i.createElement("div",{className:s.a.videoboxContainer},i.createElement(r.a,Object(o.a)({},u,{videoRef:_,extraClass:s.a.videoboxFill}))),T?null:a)}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements/dist/VideoBox.7316c610.chunk.min.js.map